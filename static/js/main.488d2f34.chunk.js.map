{"version":3,"sources":["store/index.ts","hooks/useStore.ts","hooks/useKeyboard.ts","hooks/useInterval.ts","hooks/usePlayer.ts","hooks/useSynthParams.ts","components/BaseMediaQuery.tsx","components/TheKeyboard.tsx","components/BaseAccordions.tsx","components/BaseForm.tsx","components/BaseInputNumber.tsx","components/TheMenuOptions.tsx","components/BaseSelect.tsx","components/TheMenuOscillator.tsx","components/BaseInputRadio.tsx","components/TheMenuEnvelope.tsx","components/TheMenu.tsx","components/BaseLink.tsx","components/TheFooter.tsx","components/BaseIconButton.tsx","components/BaseTime.tsx","components/ThePlayer.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["synth","PolySynth","toDestination","params","get","StoreContext","createContext","initialState","synthParams","toneState","reducer","state","action","type","payload","Transport","start","pause","stop","useStore","useContext","useKeyboard","useInterval","callback","callbackRef","useRef","useEffect","current","timerId","setInterval","clearInterval","usePlayer","useState","duration","setDuration","playbackTimeID","setPlaybackTimeID","playerDisabled","setPlayerDisabled","time","setTime","dispatch","handlers","loadMidi","midiFileBuffer","midi","Midi","cancel","tracks","forEach","track","Part","note","triggerAttackRelease","name","velocity","selector","document","querySelector","Frequency","toMidi","toMIDI","keyNumElemDataset","dataset","active","setTimeout","notes","Math","ceil","playPause","matchSynthParamsKey","key","lensPath","_view","curry","obj","lens","view","_set","value","set","useSynthParams","viewSynthParams","setSynthParams","getParams","setParams","newParams","setter","mediaQueryLists","loopMediaQueryLists","i","length","BaseMediaQuery","mqComponents","component","setComponent","handleChange","e","mediaQueryList","matches","media","mediaQuery","window","matchMedia","push","addEventListener","removeEventListener","arrayChunk","array","size","reduce","acc","index","slice","dragging","pointerdownHandler","pointerupHandler","disableScroll","preventDefault","toNote","midiNote","isBlackKey","TheKeyboard","useKeyboardDI","Key","className","test","Keys","midiNotes","isSeparate","midiNotesLen","reverse","map","chunk","pressKey","target","keyNum","triggerAttack","now","releaseKey","triggerRelease","passive","onMouseDown","onMouseOver","onMouseUp","onMouseOut","onTouchStart","onTouchEnd","range","Keys12","Keys25","Keys32","Keys42","Keys88","BaseAccordions","id","title","children","hidden","htmlFor","BaseForm","Children","toArray","LabelComponent","InputComponent","style","width","BaseInputNumber","label","min","max","step","onChange","TheMenuOptions","BaseSelect","child","TheMenuOscillator","BaseInputRadio","checked","curves","TheMenuEnvelope","TheMenu","BaseLink","url","href","rel","TheFooter","position","top","marginTop","BaseIconButton","onClick","disabled","iconProp","icon","convertTime","t","padZero","num","toString","padStart","hh","floor","mm","ss","BaseTime","ThePlayer","accept","file","files","reader","FileReader","onload","result","readAsArrayBuffer","faPlay","faPause","faStop","App","useReducer","Provider","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.488d2f34.chunk.js","sourcesContent":["import { createContext, Dispatch } from \"react\";\nimport { PlaybackState, PolySynth, Transport } from \"tone\";\n\nconst synth = new PolySynth().toDestination();\nconst params = synth.get();\n\nexport type State = {\n  synth: PolySynth;\n  synthParams: any;\n  toneState: PlaybackState;\n};\n\nexport type Action =\n  | {\n      type: \"SET_SYNTH_PARAMS\";\n      payload: { synthParams: any };\n    }\n  | { type: \"PLAY_MIDI\" }\n  | { type: \"PAUSE_MIDI\" }\n  | { type: \"STOP_MIDI\" };\n\nexport const StoreContext = createContext(\n  {} as { state: State; dispatch: Dispatch<Action> }\n);\n\nexport const initialState: State = {\n  synth: synth,\n  synthParams: params,\n  toneState: \"stopped\",\n};\n\nexport const reducer = (state: State, action: Action) => {\n  switch (action.type) {\n    case \"SET_SYNTH_PARAMS\": {\n      return {\n        ...state,\n        synthParams: action.payload.synthParams,\n      };\n    }\n    case \"PLAY_MIDI\": {\n      return {\n        ...state,\n        toneState: Transport.start().state,\n      };\n    }\n    case \"PAUSE_MIDI\": {\n      return {\n        ...state,\n        toneState: Transport.pause().state,\n      };\n    }\n    case \"STOP_MIDI\": {\n      return {\n        ...state,\n        toneState: Transport.stop().state,\n      };\n    }\n  }\n};\n","import { useContext } from \"react\";\nimport { StoreContext } from \"../store\";\n\nconst useStore = () => useContext(StoreContext);\n\nexport default useStore;\n","import useStore from \"./useStore\";\n\nconst useKeyboard = () => {\n  const { state } = useStore();\n  const { synth, toneState } = state;\n  return { synth, toneState };\n};\n\nexport default useKeyboard;\n","// https://zenn.dev/kakaka/articles/41f22d2dcc9720\n\nimport { useEffect, useRef } from \"react\";\n\nconst useInterval = (callback: () => void) => {\n  const callbackRef = useRef<() => void>(callback);\n  useEffect(() => {\n    callbackRef.current = callback;\n  }, [callback]);\n  useEffect(() => {\n    const timerId = setInterval(() => callbackRef.current(), 1000);\n    return () => clearInterval(timerId);\n  }, []);\n};\n\nexport default useInterval;\n","import { useState } from \"react\";\nimport { Frequency, Part, Transport } from \"tone\";\nimport { Midi } from \"@tonejs/midi\";\nimport useInterval from \"./useInterval\";\nimport useStore from \"./useStore\";\n\nconst toMIDI = (note: string) => Frequency(note).toMidi();\n\nconst usePlayer = () => {\n  const [duration, setDuration] = useState(0);\n  const [playbackTimeID, setPlaybackTimeID] = useState(0);\n  const [playerDisabled, setPlayerDisabled] = useState(true);\n  const [time, setTime] = useState(0);\n\n  const { state, dispatch } = useStore();\n  const { synth, toneState } = state;\n\n  const loadMidi = (midiFileBuffer: ArrayBuffer) => {\n    const midi = new Midi(midiFileBuffer);\n    Transport.cancel();\n    midi.tracks.forEach((track) => {\n      new Part((time, note) => {\n        synth?.triggerAttackRelease(\n          note.name,\n          note.duration,\n          time,\n          note.velocity\n        );\n        const selector = document.querySelector(\n          `[data-key-num=\"${toMIDI(note.name)}\"]`\n        );\n        if (!selector) return;\n        const keyNumElemDataset = (selector as HTMLElement).dataset;\n        keyNumElemDataset.active = \"true\";\n        setTimeout(\n          () => (keyNumElemDataset.active = \"false\"),\n          note.duration * 1000\n        );\n      }, track.notes).start();\n    });\n    setDuration(Math.ceil(midi.duration));\n    setPlayerDisabled(false);\n    setTime(0);\n    dispatch({ type: \"PLAY_MIDI\" });\n  };\n\n  const playPause = () => {\n    if (toneState !== \"started\") {\n      dispatch({ type: \"PLAY_MIDI\" });\n    } else {\n      setPlaybackTimeID(0);\n      dispatch({ type: \"PAUSE_MIDI\" });\n    }\n  };\n\n  const stop = () => {\n    setPlaybackTimeID(0);\n    setTime(0);\n    dispatch({ type: \"STOP_MIDI\" });\n  };\n\n  useInterval(() => {\n    switch (toneState) {\n      case \"started\": {\n        if (duration > time) {\n          setTime(time + 1);\n        } else {\n          clearInterval(playbackTimeID);\n          setTime(0);\n          setPlaybackTimeID(0);\n          dispatch({ type: \"STOP_MIDI\" });\n        }\n        break;\n      }\n      case \"stopped\":\n      case \"paused\": {\n        clearInterval(playbackTimeID);\n        break;\n      }\n    }\n  });\n\n  return {\n    state: {\n      duration,\n      playerDisabled,\n      time,\n      toneState,\n    },\n    handlers: {\n      loadMidi,\n      playPause,\n      stop,\n    },\n  };\n};\n\nexport default usePlayer;\n","import { curry, Lens, lensPath, set, view } from \"ramda\";\nimport useStore from \"./useStore\";\n\ntype SynthParamsKey_Oscillator = \"type\" | \"partialCount\" | \"phase\";\ntype SynthParamsKey_Envelope =\n  | \"attack\"\n  | \"attackCurve\"\n  | \"decay\"\n  | \"decayCurve\"\n  | \"release\"\n  | \"releaseCurve\"\n  | \"sustain\";\ntype SynthParamsKey =\n  | \"detune\"\n  | \"portamento\"\n  | \"volume\"\n  | SynthParamsKey_Oscillator\n  | SynthParamsKey_Envelope;\n\nconst matchSynthParamsKey = (key: SynthParamsKey, callback: any) => {\n  switch (key) {\n    case \"detune\":\n    case \"portamento\":\n    case \"volume\": {\n      return callback(lensPath([key]));\n    }\n    case \"type\":\n    case \"partialCount\":\n    case \"phase\": {\n      return callback(lensPath([\"oscillator\", key]));\n    }\n    case \"attack\":\n    case \"attackCurve\":\n    case \"decay\":\n    case \"decayCurve\":\n    case \"release\":\n    case \"releaseCurve\":\n    case \"sustain\": {\n      return callback(lensPath([\"envelope\", key]));\n    }\n  }\n};\n\nconst _view = curry((obj: any, lens: Lens<any, any>) => view(lens, obj));\n\nconst _set = curry((obj: any, lens: Lens<any, any>, value: any) =>\n  set(lens, value, obj)\n);\n\nconst useSynthParams = () => {\n  const { state, dispatch } = useStore();\n  const viewSynthParams = _view(state.synthParams);\n  const setSynthParams = _set(state.synthParams);\n  return {\n    getParams: (key: SynthParamsKey) => {\n      return matchSynthParamsKey(key, (lens: Lens<any, any>) =>\n        viewSynthParams(lens)\n      );\n    },\n    setParams: (key: SynthParamsKey, value: any) => {\n      const newParams = matchSynthParamsKey(key, (lens: Lens<any, any>) => {\n        const setter = setSynthParams(lens);\n        state.synth!.set(setter(value ? value : \"0\"));\n        return setter(value);\n      });\n      dispatch({\n        type: \"SET_SYNTH_PARAMS\",\n        payload: {\n          synthParams: newParams,\n        },\n      });\n    },\n  };\n};\n\nexport default useSynthParams;\n","import { FC, ReactNode, useEffect, useState } from \"react\";\n\ntype BaseMediaQueryProps = {\n  mqComponents: {\n    [query: string]: ReactNode;\n  };\n};\n\nconst mediaQueryLists: MediaQueryList[] = [];\n\nconst loopMediaQueryLists = (\n  callback: (mediaQueryList: MediaQueryList) => void\n) => {\n  for (let i = 0; i < mediaQueryLists.length; i++) callback(mediaQueryLists[i]);\n};\n\nconst BaseMediaQuery: FC<BaseMediaQueryProps> = ({ mqComponents }) => {\n  const [component, setComponent] = useState<ReactNode>(null);\n  useEffect(() => {\n    const handleChange = (e?: any) =>\n      loopMediaQueryLists(\n        (mediaQueryList) =>\n          mediaQueryList.matches &&\n          setComponent(mqComponents[mediaQueryList.media])\n      );\n    for (const key in mqComponents) {\n      const mediaQuery = window.matchMedia(key);\n      mediaQueryLists.push(mediaQuery);\n    }\n    handleChange();\n    loopMediaQueryLists((mediaQueryList) =>\n      mediaQueryList.addEventListener(\"change\", handleChange)\n    );\n    return () =>\n      loopMediaQueryLists((mediaQueryList) =>\n        mediaQueryList.removeEventListener(\"change\", handleChange)\n      );\n  }, [mqComponents]);\n  return <>{component}</>;\n};\n\nexport default BaseMediaQuery;\n","import { useEffect } from \"react\";\nimport { range } from \"ramda\";\nimport { Frequency, now, PlaybackState } from \"tone\";\nimport { useKeyboard as useKeyboardDI } from \"../hooks\";\nimport \"./TheKeyboard.css\";\nimport BaseMediaQuery from \"./BaseMediaQuery\";\n\n// https://www.nxworld.net/js-array-chunk.html\nconst arrayChunk = ([...array], size = 1) =>\n  array.reduce(\n    (acc, value, index) =>\n      index % size ? acc : [...acc, array.slice(index, index + size)],\n    []\n  );\n\nlet dragging = false;\nconst pointerdownHandler = () => (dragging = true);\nconst pointerupHandler = () => (dragging = false);\nconst disableScroll = (e: any) => dragging && e.preventDefault();\n\nconst toNote = (midiNote: number) => Frequency(midiNote, \"midi\").toNote();\nconst isBlackKey = (midiNote: number) => {\n  switch ((midiNote - 20) % 12) {\n    case 0:\n    case 2:\n    case 5:\n    case 7:\n    case 10:\n      return true;\n    default:\n      return false;\n  }\n};\n\nfunction TheKeyboard({ useKeyboard = useKeyboardDI }) {\n  const { synth, toneState } = useKeyboard();\n\n  const Key = (midiNote: number): JSX.Element => {\n    const note = toNote(midiNote);\n    return (\n      <div className=\"the-keyboard__key-container\" key={midiNote - 21}>\n        <div\n          className={\n            \"the-keyboard__key\" +\n            \" \" +\n            (!isBlackKey(midiNote) ? \"--white\" : \"--black\")\n          }\n          data-key-num={midiNote}\n        >\n          <span className=\"the-keyboard__label\">\n            {/C[1-8]/.test(note) ? note : \"\"}\n          </span>\n        </div>\n      </div>\n    );\n  };\n  const Keys =\n    (midiNotes: number[], isSeparate = true) =>\n    (toneState: PlaybackState): JSX.Element => {\n      if (isSeparate) {\n        const midiNotesLen = midiNotes.length / 2;\n        return arrayChunk(midiNotes, midiNotesLen)\n          .reverse()\n          .map((chunk: Array<number>, i: number) => {\n            return (\n              <div\n                className={\n                  \"the-keyboard__row\" +\n                  \" \" +\n                  (toneState === \"started\" ? \"--notAllowed\" : \"\")\n                }\n                key={i}\n              >\n                {chunk.map((midiNote: number) => Key(midiNote))}\n              </div>\n            );\n          });\n      } else {\n        return (\n          <div\n            className={\n              \"the-keyboard__row\" +\n              \" \" +\n              (toneState === \"started\" ? \"--notAllowed\" : \"\")\n            }\n          >\n            {midiNotes.map((midiNote: number) => Key(midiNote))}\n          </div>\n        );\n      }\n    };\n\n  const Keys12 = (toneState: PlaybackState) =>\n    Keys(range(60, 72), false)(toneState);\n  const Keys25 = (toneState: PlaybackState) =>\n    Keys(range(53, 78), false)(toneState);\n  const Keys32 = (toneState: PlaybackState) =>\n    Keys(range(48, 80), false)(toneState);\n  const Keys42 = (toneState: PlaybackState) =>\n    Keys(range(43, 85), false)(toneState);\n  const Keys88 = (toneState: PlaybackState) => Keys(range(21, 109))(toneState);\n\n  const pressKey = (e: any) => {\n    e.preventDefault();\n    const dataset = e.target.dataset;\n    if (!dataset.keyNum) return;\n    dataset.active = true;\n    synth?.triggerAttack(toNote(dataset.keyNum), now());\n  };\n  const releaseKey = (e: any) => {\n    e.preventDefault();\n    const dataset = e.target.dataset;\n    if (!dataset.keyNum) return;\n    dataset.active = false;\n    synth?.triggerRelease(toNote(dataset.keyNum));\n  };\n  const pressKeyDragging = (e: any) => dragging && pressKey(e);\n  const releaseKeyDragging = (e: any) => dragging && releaseKey(e);\n\n  useEffect(() => {\n    document.addEventListener(\"mousedown\", pointerdownHandler);\n    document.addEventListener(\"mouseup\", pointerupHandler);\n    document.addEventListener(\"mousemove\", disableScroll, { passive: false });\n    return () => {\n      document.removeEventListener(\"mousedown\", pointerdownHandler);\n      document.removeEventListener(\"mouseup\", pointerupHandler);\n      document.removeEventListener(\"mousemove\", disableScroll);\n    };\n  }, []);\n\n  return (\n    <div\n      className=\"the-keyboard el-stack\"\n      onMouseDown={pressKey}\n      onMouseOver={pressKeyDragging}\n      onMouseUp={releaseKey}\n      onMouseOut={releaseKeyDragging}\n      onTouchStart={pressKey}\n      onTouchEnd={releaseKey}\n    >\n      <BaseMediaQuery\n        mqComponents={{\n          \"not all and (min-width: 640px)\": Keys12(toneState),\n          \"(min-width: 640px)\": Keys25(toneState),\n          \"(min-width: 768px)\": Keys32(toneState),\n          \"(min-width: 1024px)\": Keys42(toneState),\n          \"(min-width: 1280px)\": Keys88(toneState),\n        }}\n      />\n    </div>\n  );\n}\n\nexport default TheKeyboard;\n","import { FC } from \"react\";\n\ntype BaseAccordionsProps = {\n  id: string;\n  name: string;\n  title: string;\n};\n\nconst BaseAccordions: FC<BaseAccordionsProps> = ({\n  id,\n  name,\n  title,\n  children,\n}) => (\n  <div className=\"accordion\">\n    <input type=\"checkbox\" id={id} name={name} hidden></input>\n    <label className=\"accordion-header\" htmlFor={id}>\n      <i className=\"icon icon-arrow-right mr-1\"></i>\n      {title}\n    </label>\n    <div className=\"accordion-body\">{children}</div>\n  </div>\n);\n\nexport default BaseAccordions;\n","import { FC, Children } from \"react\";\n\ntype BaseFormProps = {};\n\nconst BaseForm: FC<BaseFormProps> = ({ children }) => {\n  const [LabelComponent, InputComponent] = Children.toArray(children);\n  return (\n    <div className=\"el-cluster el-cluster--justify:flex-start el-cluster--space:0\">\n      <div style={{ width: \"95px\" }}>{LabelComponent}</div>\n      <div>{InputComponent}</div>\n    </div>\n  );\n};\n\nexport default BaseForm;\n","import { FC } from \"react\";\nimport BaseForm from \"./BaseForm\";\n\ntype BaseInputNumberProps = {\n  id: string;\n  label: string;\n  min?: string;\n  max?: string;\n  step?: string;\n  value: string;\n  onChange: (e: any) => void;\n};\n\nconst BaseInputNumber: FC<BaseInputNumberProps> = ({\n  id,\n  label,\n  min,\n  max,\n  step,\n  value,\n  onChange,\n}) => (\n  <BaseForm>\n    <label className=\"form-label\" htmlFor={id}>\n      {label}\n    </label>\n    <input\n      type=\"number\"\n      id={id}\n      className=\"form-input\"\n      min={min}\n      max={max}\n      step={step}\n      value={value}\n      onChange={onChange}\n    />\n  </BaseForm>\n);\n\nexport default BaseInputNumber;\n","import BaseAccordions from \"./BaseAccordions\";\nimport BaseInputNumber from \"./BaseInputNumber\";\nimport { useSynthParams } from \"../hooks\";\n\nfunction TheMenuOptions() {\n  const { getParams, setParams } = useSynthParams();\n  return (\n    <BaseAccordions id=\"options\" title=\"options\" name=\"options\">\n      <BaseInputNumber\n        id=\"detune\"\n        label=\"detune\"\n        value={getParams(\"detune\")}\n        onChange={(e: any) => setParams(\"detune\", e.target.value)}\n      />\n      <BaseInputNumber\n        id=\"portamento\"\n        label=\"portamento\"\n        min=\"0\"\n        value={getParams(\"portamento\")}\n        onChange={(e: any) => setParams(\"portamento\", e.target.value)}\n      />\n      <BaseInputNumber\n        id=\"volume\"\n        label=\"volume\"\n        value={getParams(\"volume\")}\n        onChange={(e: any) => setParams(\"volume\", e.target.value)}\n      />\n    </BaseAccordions>\n  );\n}\n\nexport default TheMenuOptions;\n","import { FC, Children } from \"react\";\nimport BaseForm from \"./BaseForm\";\n\ntype BaseSelectProps = {\n  id: string;\n  label: string;\n  onChange: (e: any) => void;\n  value: string;\n};\n\nconst BaseSelect: FC<BaseSelectProps> = ({\n  id,\n  label,\n  onChange,\n  children,\n  value,\n}) => (\n  <BaseForm>\n    <label className=\"form-label\" htmlFor={id}>\n      {label}\n    </label>\n    <select id={id} className=\"form-select\" value={value} onChange={onChange}>\n      {Children.map(children, (child, i) => (\n        <option key={i} value={child as string}>\n          {child}\n        </option>\n      ))}\n    </select>\n  </BaseForm>\n);\n\nexport default BaseSelect;\n","import BaseAccordions from \"./BaseAccordions\";\nimport BaseInputNumber from \"./BaseInputNumber\";\nimport BaseSelect from \"./BaseSelect\";\nimport { useSynthParams } from \"../hooks\";\n\nfunction TheMenuOscillator() {\n  const { getParams, setParams } = useSynthParams();\n  return (\n    <BaseAccordions id=\"oscillator\" title=\"oscillator\" name=\"oscillator\">\n      <BaseSelect\n        id=\"type\"\n        label=\"type\"\n        value={getParams(\"type\")}\n        onChange={(e: any) => setParams(\"type\", e.target.value)}\n      >\n        {[\"sine\", \"square\", \"sawtooth\", \"triangle\"]}\n      </BaseSelect>\n      <BaseInputNumber\n        id=\"partialCount\"\n        label=\"partialCount\"\n        min=\"0\"\n        step=\"1\"\n        value={getParams(\"partialCount\")}\n        onChange={(e: any) => setParams(\"partialCount\", e.target.value)}\n      />\n      <BaseInputNumber\n        id=\"phase\"\n        label=\"phase\"\n        min=\"0\"\n        step=\"0.1\"\n        value={getParams(\"phase\")}\n        onChange={(e: any) => setParams(\"phase\", e.target.value)}\n      />\n    </BaseAccordions>\n  );\n}\n\nexport default TheMenuOscillator;\n","import { FC, Children } from \"react\";\nimport BaseForm from \"./BaseForm\";\n\ntype BaseInputRadioProps = {\n  label: string;\n  name: string;\n  value: string;\n  onChange: (e: any) => void;\n};\n\nconst BaseInputRadio: FC<BaseInputRadioProps> = ({\n  label,\n  name,\n  value,\n  children,\n  onChange,\n}) => (\n  <BaseForm>\n    <label className=\"form-label\">{label}</label>\n    <>\n      {Children.map(children, (child, i) => (\n        <label className=\"form-radio form-inline\" key={i}>\n          <input\n            type=\"radio\"\n            name={name}\n            value={child as string}\n            checked={child === value}\n            onChange={onChange}\n          />\n          <i className=\"form-icon\"></i>\n          {child}\n        </label>\n      ))}\n    </>\n  </BaseForm>\n);\n\nexport default BaseInputRadio;\n","import BaseAccordions from \"./BaseAccordions\";\nimport BaseInputNumber from \"./BaseInputNumber\";\nimport BaseInputRadio from \"./BaseInputRadio\";\nimport { useSynthParams } from \"../hooks\";\n\nconst curves = [\"linear\", \"exponential\"];\n\nfunction TheMenuEnvelope() {\n  const { getParams, setParams } = useSynthParams();\n  return (\n    <BaseAccordions id=\"envelope\" title=\"envelope\" name=\"envelope\">\n      <BaseInputNumber\n        id=\"attack\"\n        label=\"attack\"\n        min=\"0\"\n        step=\"0.001\"\n        value={getParams(\"attack\")}\n        onChange={(e: any) => setParams(\"attack\", e.target.value)}\n      />\n      <BaseInputRadio\n        label=\"attackCurve\"\n        name=\"attackCurve\"\n        value={getParams(\"attackCurve\")}\n        onChange={(e: any) => setParams(\"attackCurve\", e.target.value)}\n      >\n        {curves}\n      </BaseInputRadio>\n      <BaseInputNumber\n        id=\"decay\"\n        label=\"decay\"\n        min=\"0\"\n        step=\"0.001\"\n        value={getParams(\"decay\")}\n        onChange={(e: any) => setParams(\"decay\", e.target.value)}\n      />\n      <BaseInputRadio\n        label=\"decayCurve\"\n        name=\"decayCurve\"\n        value={getParams(\"decayCurve\")}\n        onChange={(e: any) => setParams(\"decayCurve\", e.target.value)}\n      >\n        {curves}\n      </BaseInputRadio>\n      <BaseInputNumber\n        id=\"release\"\n        label=\"release\"\n        min=\"0\"\n        step=\"0.001\"\n        value={getParams(\"release\")}\n        onChange={(e: any) => setParams(\"release\", e.target.value)}\n      />\n      <BaseInputRadio\n        label=\"releaseCurve\"\n        name=\"releaseCurve\"\n        value={getParams(\"releaseCurve\")}\n        onChange={(e: any) => setParams(\"releaseCurve\", e.target.value)}\n      >\n        {curves}\n      </BaseInputRadio>\n      <BaseInputNumber\n        id=\"sustain\"\n        label=\"sustain\"\n        min=\"0.1\"\n        max=\"1\"\n        step=\"0.001\"\n        value={getParams(\"sustain\")}\n        onChange={(e: any) => setParams(\"sustain\", e.target.value)}\n      />\n    </BaseAccordions>\n  );\n}\n\nexport default TheMenuEnvelope;\n","import TheMenuOptions from \"./TheMenuOptions\";\nimport TheMenuOscillator from \"./TheMenuOscillator\";\nimport TheMenuEnvelope from \"./TheMenuEnvelope\";\n\nfunction TheMenu() {\n  return (\n    <div>\n      <TheMenuOptions />\n      <TheMenuOscillator />\n      <TheMenuEnvelope />\n    </div>\n  );\n}\n\nexport default TheMenu;\n","import { FC } from \"react\";\n\ntype BaseLinkProps = { url: string; label: string };\n\nconst BaseLink: FC<BaseLinkProps> = ({ url, label }) => (\n  <a className=\"base-link\" href={url} target=\"_blank\" rel=\"noopener noreferrer\">\n    {label}\n  </a>\n);\n\nexport default BaseLink;\n","import BaseLink from \"./BaseLink\";\n\nfunction TheFooter() {\n  return (\n    <footer\n      className=\"el-center\"\n      style={{ position: \"sticky\", top: \"100vh\", marginTop: 0 }}\n    >\n      <small>\n        <BaseLink url=\"https://github.com/l1ck0h/keyboard\" label=\"GitHub\" /> /\n        &copy; 2022 l1ck0h\n      </small>\n    </footer>\n  );\n}\n\nexport default TheFooter;\n","import { FC, MouseEventHandler } from \"react\";\nimport { IconProp } from \"@fortawesome/fontawesome-svg-core\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\ntype BaseIconButtonProps = {\n  onClick: MouseEventHandler<HTMLButtonElement>;\n  disabled: boolean;\n  iconProp: IconProp;\n};\n\nconst BaseIconButton: FC<BaseIconButtonProps> = ({\n  onClick,\n  disabled,\n  iconProp,\n}) => (\n  <button\n    className=\"btn btn-action s-circle\"\n    onClick={onClick}\n    disabled={disabled}\n  >\n    <FontAwesomeIcon icon={iconProp} />\n  </button>\n);\n\nexport default BaseIconButton;\n","import { FC } from \"react\";\n\nconst convertTime = (t: number) => {\n  const padZero = (num: number) => num.toString().padStart(2, \"0\");\n  const hh = Math.floor((t % (24 * 60 * 60)) / (60 * 60));\n  const mm = Math.floor(((t % (24 * 60 * 60)) % (60 * 60)) / 60);\n  const ss = Math.floor(((t % (24 * 60 * 60)) % (60 * 60)) % 60);\n  return hh ? hh + \":\" + mm + \":\" + padZero(ss) : mm + \":\" + padZero(ss);\n};\n\ntype BaseTimeProps = {\n  time: number;\n  duration: number;\n};\n\nconst BaseTime: FC<BaseTimeProps> = ({ time, duration }) => (\n  <span className=\"base-time\">\n    {convertTime(time)} / {convertTime(duration)}\n  </span>\n);\n\nexport default BaseTime;\n","import { faPlay, faPause, faStop } from \"@fortawesome/free-solid-svg-icons\";\nimport BaseIconButton from \"./BaseIconButton\";\nimport BaseTime from \"./BaseTime\";\nimport { usePlayer } from \"../hooks\";\n\nfunction ThePlayer() {\n  const { state, handlers } = usePlayer();\n\n  const dropFile = (e: any) => {\n    const [file] = e.target.files;\n    const reader = new FileReader();\n    reader.onload = (e: any) => handlers.loadMidi(e.target.result);\n    reader.readAsArrayBuffer(file);\n  };\n\n  return (\n    <div>\n      <div className=\"form-group\">\n        <input\n          type=\"file\"\n          id=\"dropFile\"\n          className=\"form-input\"\n          accept=\"audio/midi\"\n          onChange={dropFile}\n        />\n      </div>\n      <div className=\"el-cluster el-cluster--justify:flex-start\">\n        <BaseIconButton\n          onClick={handlers.playPause}\n          iconProp={state.toneState !== \"started\" ? faPlay : faPause}\n          disabled={state.playerDisabled}\n        />\n        <BaseIconButton\n          onClick={handlers.stop}\n          iconProp={faStop}\n          disabled={state.playerDisabled}\n        />\n        <BaseTime time={state.time} duration={state.duration} />\n      </div>\n    </div>\n  );\n}\n\nexport default ThePlayer;\n","import { CSSProperties, useReducer } from \"react\";\nimport TheKeyboard from \"./components/TheKeyboard\";\nimport TheMenu from \"./components/TheMenu\";\nimport TheFooter from \"./components/TheFooter\";\nimport ThePlayer from \"./components/ThePlayer\";\nimport { initialState, reducer, StoreContext } from \"./store\";\n\nfunction App() {\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  return (\n    <div className=\"App\">\n      <StoreContext.Provider value={{ state, dispatch }}>\n        <div className=\"el-cover\">\n          <div>\n            <div\n              className=\"el-with-sidebar el-with-sidebar--right el-with-sidebar--noStretch\"\n              style={\n                {\n                  \"--sideWidth\": \"15rem\",\n                  \"--contentMin\": \"75%\",\n                } as CSSProperties\n              }\n            >\n              <div className=\"el-stack\">\n                <TheKeyboard />\n                <ThePlayer />\n              </div>\n              <TheMenu />\n            </div>\n          </div>\n          <TheFooter />\n        </div>\n      </StoreContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from \"web-vitals\";\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport \"spectre.css/dist/spectre.min.css\";\nimport \"spectre.css/dist/spectre-icons.min.css\";\nimport \"spectre.css/dist/spectre-exp.min.css\";\nimport \"@l1ck0h/every-layout.css/every-layout.min.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}