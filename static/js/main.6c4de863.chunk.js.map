{"version":3,"sources":["components/BaseIconButton.tsx","components/BaseTime.tsx","hooks/useLoadingSampler.ts","store/index.ts","hooks/useSampler.ts","hooks/usePlayer.ts","components/TheMenu.tsx","components/TheKeyboard.tsx","components/BaseLink.tsx","components/TheFooter.tsx","components/TheLoading.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["BasePlayPauseButton","props","className","onClick","disabled","icon","iconProp","convertTime","t","padZero","num","toString","padStart","hh","Math","floor","mm","ss","BaseTime","time","duration","useLoadingSampler","dispatch","useEffect","sampler","Sampler","attack","urls","A0","C1","A1","C2","A2","C3","A3","C4","A4","C5","A5","C6","A6","C7","A7","C8","baseUrl","process","release","curve","onload","type","payload","isLoaded","toDestination","StoreContext","createContext","initialState","toneState","undefined","playbackTimeID","reducer","state","action","Transport","start","window","clearInterval","stop","pause","useSampler","useContext","usePlayer","useState","isMute","setMute","playbackTime","setInterval","handlers","dropFile","e","file","target","files","reader","FileReader","midi","Midi","result","cancel","tracks","forEach","track","Part","note","triggerAttackRelease","name","velocity","keyNumElem","document","querySelector","Frequency","toMidi","toMIDI","classList","add","setTimeout","remove","notes","ceil","readAsArrayBuffer","PlayPause","toggleVolume","volume","value","minValue","TheMenu","usePlayerDI","accept","onChange","BaseIconButton","faPlay","faPause","faStop","faVolumeMute","faVolumeUp","midiNotes","range","toNote","midiNote","isBlackKey","TheKeyboard","useSamplerDI","_pressKey","triggerAttack","dataset","keyNum","_releaseKey","triggerRelease","onPointerDown","currentTarget","addEventListener","onPointerUp","removeEventListener","map","i","_note","test","BaseLink","href","url","rel","label","TheFooter","TheLoading","App","useReducer","Provider","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.6c4de863.chunk.js","sourcesContent":["import { IconProp } from \"@fortawesome/fontawesome-svg-core\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\nfunction BasePlayPauseButton(props: {\n  iconProp: IconProp;\n  onClick: React.MouseEventHandler<HTMLButtonElement>;\n  disabled?: boolean;\n}) {\n  return (\n    <button\n      className=\"btn btn-action s-circle\"\n      onClick={props.onClick}\n      disabled={props.disabled}\n    >\n      <FontAwesomeIcon icon={props.iconProp} />\n    </button>\n  );\n}\n\nexport default BasePlayPauseButton;\n","const convertTime = (t: number) => {\n  const padZero = (num: number) => num.toString().padStart(2, \"0\");\n  const hh = Math.floor((t % (24 * 60 * 60)) / (60 * 60));\n  const mm = Math.floor(((t % (24 * 60 * 60)) % (60 * 60)) / 60);\n  const ss = Math.floor(((t % (24 * 60 * 60)) % (60 * 60)) % 60);\n  return hh ? hh + \":\" + mm + \":\" + padZero(ss) : mm + \":\" + padZero(ss);\n};\n\nfunction BaseTime(props: { time: number; duration: number }) {\n  return (\n    <span className=\"base-time\">\n      {convertTime(props.time)} / {convertTime(props.duration)}\n    </span>\n  );\n}\n\nexport default BaseTime;\n","import { useEffect } from \"react\";\nimport { Sampler } from \"tone\";\nimport { Action } from \"../store\";\n\nconst useLoadingSampler = (dispatch: React.Dispatch<Action>) => {\n  useEffect(() => {\n    const sampler = new Sampler({\n      attack: 0,\n      urls: {\n        A0: \"A0v1.mp3\",\n        C1: \"C1v1.mp3\",\n        \"D#1\": \"Ds1v1.mp3\",\n        \"F#1\": \"Fs1v1.mp3\",\n        A1: \"A1v1.mp3\",\n        C2: \"C2v1.mp3\",\n        \"D#2\": \"Ds2v1.mp3\",\n        \"F#2\": \"Fs2v1.mp3\",\n        A2: \"A2v1.mp3\",\n        C3: \"C3v1.mp3\",\n        \"D#3\": \"Ds3v1.mp3\",\n        \"F#3\": \"Fs3v1.mp3\",\n        A3: \"A3v1.mp3\",\n        C4: \"C4v1.mp3\",\n        \"D#4\": \"Ds4v1.mp3\",\n        \"F#4\": \"Fs4v1.mp3\",\n        A4: \"A4v1.mp3\",\n        C5: \"C5v1.mp3\",\n        \"D#5\": \"Ds5v1.mp3\",\n        \"F#5\": \"Fs5v1.mp3\",\n        A5: \"A5v1.mp3\",\n        C6: \"C6v1.mp3\",\n        \"D#6\": \"Ds6v1.mp3\",\n        \"F#6\": \"Fs6v1.mp3\",\n        A6: \"A6v1.mp3\",\n        C7: \"C7v1.mp3\",\n        \"D#7\": \"Ds7v1.mp3\",\n        \"F#7\": \"Fs7v1.mp3\",\n        A7: \"A7v1.mp3\",\n        C8: \"C8v1.mp3\",\n      },\n      baseUrl: process.env.PUBLIC_URL + \"/audio/\",\n      release: 1,\n      curve: \"exponential\",\n      onload: () =>\n        dispatch({\n          type: \"LOADED_SAMPLER\",\n          payload: {\n            isLoaded: true,\n            sampler: sampler,\n          },\n        }),\n    }).toDestination();\n  }, [dispatch]);\n};\n\nexport default useLoadingSampler;\n","import { createContext, Dispatch } from \"react\";\nimport { PlaybackState, Sampler, Transport } from \"tone\";\n\nexport type State = {\n  time: number;\n  duration: number;\n  toneState: PlaybackState;\n  isLoaded: boolean;\n  sampler: Sampler | undefined;\n  disabled: boolean;\n  playbackTimeID: number;\n};\n\nexport type Action =\n  | { type: \"LOADED_SAMPLER\"; payload: { sampler: Sampler; isLoaded: boolean } }\n  | {\n      type: \"LOADED_MIDI\";\n      payload: { duration: number; playbackTimeID: number };\n    }\n  | { type: \"COUNT_TIME\" }\n  | { type: \"PLAY_MIDI\"; payload: { playbackTimeID: number } }\n  | { type: \"PAUSE_MIDI\" }\n  | { type: \"STOP_MIDI\" };\n\nexport const StoreContext = createContext(\n  {} as { state: State; dispatch: Dispatch<Action> }\n);\n\nexport const initialState: State = {\n  time: 0,\n  duration: 0,\n  toneState: \"stopped\",\n  isLoaded: false,\n  sampler: undefined,\n  disabled: true,\n  playbackTimeID: 0,\n};\n\nexport const reducer = (state: State, action: Action) => {\n  switch (action.type) {\n    case \"LOADED_SAMPLER\": {\n      const payload = action.payload;\n      return {\n        ...state,\n        isLoaded: payload.isLoaded,\n        sampler: payload.sampler,\n      };\n    }\n    case \"LOADED_MIDI\": {\n      const payload = action.payload;\n      return {\n        ...state,\n        duration: payload.duration,\n        time: 0,\n        disabled: false,\n        toneState: Transport.start().state,\n        playbackTimeID: payload.playbackTimeID,\n      };\n    }\n    case \"COUNT_TIME\": {\n      if (state.duration > state.time) {\n        return {\n          ...state,\n          time: state.time + 1,\n        };\n      } else {\n        window.clearInterval(state.playbackTimeID);\n        return {\n          ...state,\n          time: 0,\n          toneState: Transport.stop().state,\n          playbackTimeID: 0,\n        };\n      }\n    }\n    case \"PLAY_MIDI\": {\n      return {\n        ...state,\n        toneState: Transport.start().state,\n        playbackTimeID: action.payload.playbackTimeID,\n      };\n    }\n    case \"PAUSE_MIDI\": {\n      window.clearInterval(state.playbackTimeID);\n      return {\n        ...state,\n        toneState: Transport.pause().state,\n        playbackTimeID: 0,\n      };\n    }\n    case \"STOP_MIDI\": {\n      window.clearInterval(state.playbackTimeID);\n      return {\n        ...state,\n        time: 0,\n        toneState: Transport.stop().state,\n        playbackTimeID: 0,\n      };\n    }\n  }\n};\n","import { useContext } from \"react\";\nimport { StoreContext } from \"../store\";\n\nconst useSampler = () => {\n  const { state } = useContext(StoreContext);\n  return state.sampler;\n};\n\nexport default useSampler;\n","import { useState, useContext } from \"react\";\nimport { Frequency, Part, Transport } from \"tone\";\nimport { Midi } from \"@tonejs/midi\";\nimport { StoreContext } from \"../store\";\n\nconst toMIDI = (note: string) => Frequency(note).toMidi();\n\nconst usePlayer = () => {\n  const { state, dispatch } = useContext(StoreContext);\n  const [isMute, setMute] = useState(false);\n  const sampler = state.sampler;\n  const playbackTime = () =>\n    window.setInterval(() => dispatch({ type: \"COUNT_TIME\" }), 1000);\n\n  const dropFile = (e: any) => {\n    const [file] = e.target.files;\n    const reader = new FileReader();\n    reader.onload = (e: any) => {\n      const midi = new Midi(e.target.result);\n      Transport.cancel();\n      midi.tracks.forEach((track) => {\n        new Part((time, note) => {\n          sampler?.triggerAttackRelease(\n            note.name,\n            note.duration,\n            time,\n            note.velocity\n          );\n          const keyNumElem = document.querySelector(\n            `[data-key-num=\"${toMIDI(note.name)}\"]`\n          )!.classList;\n          keyNumElem.add(\"--pressing\");\n          setTimeout(\n            () => keyNumElem.remove(\"--pressing\"),\n            note.duration * 1000\n          );\n        }, track.notes).start();\n      });\n      dispatch({\n        type: \"LOADED_MIDI\",\n        payload: {\n          duration: Math.ceil(midi.duration),\n          playbackTimeID: playbackTime(),\n        },\n      });\n    };\n    reader.readAsArrayBuffer(file);\n  };\n\n  const PlayPause = () =>\n    dispatch(\n      state.toneState !== \"started\"\n        ? {\n            type: \"PLAY_MIDI\",\n            payload: {\n              playbackTimeID: playbackTime(),\n            },\n          }\n        : { type: \"PAUSE_MIDI\" }\n    );\n\n  const stop = () => dispatch({ type: \"STOP_MIDI\" });\n\n  const toggleVolume = () => {\n    if (!sampler) return;\n    const volume = sampler.volume;\n    volume.value = !isMute ? volume.minValue : 0;\n    setMute(!isMute);\n  };\n\n  return {\n    state: {\n      isMute,\n      ...state,\n    },\n    handlers: {\n      dropFile,\n      PlayPause,\n      stop,\n      toggleVolume,\n    },\n  };\n};\n\nexport default usePlayer;\n","import {\n  faPlay,\n  faPause,\n  faStop,\n  faVolumeUp,\n  faVolumeMute,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport BaseIconButton from \"./BaseIconButton\";\nimport BaseTime from \"./BaseTime\";\nimport { usePlayer as usePlayerDI } from \"../hooks\";\n\nfunction TheMenu({ usePlayer = usePlayerDI }) {\n  const { state, handlers } = usePlayer();\n  return (\n    <div className=\"the-menu\">\n      <div className=\"the-menu__filedrop form-group\">\n        <input\n          className=\"form-input\"\n          type=\"file\"\n          accept=\"audio/midi\"\n          onChange={handlers.dropFile}\n        />\n      </div>\n      <div className=\"the-menu__toolbar el-cluster el-cluster--justify:flex-start\">\n        <BaseIconButton\n          onClick={handlers.PlayPause}\n          iconProp={state.toneState !== \"started\" ? faPlay : faPause}\n          disabled={state.disabled}\n        />\n        <BaseIconButton\n          onClick={handlers.stop}\n          iconProp={faStop}\n          disabled={state.disabled}\n        />\n        <BaseIconButton\n          onClick={handlers.toggleVolume}\n          iconProp={!state.isMute ? faVolumeUp : faVolumeMute}\n        />\n        <BaseTime time={state.time} duration={state.duration} />\n      </div>\n    </div>\n  );\n}\n\nexport default TheMenu;\n","import { range } from \"ramda\";\nimport { Frequency } from \"tone\";\nimport { useSampler as useSamplerDI } from \"../hooks\";\nimport \"./TheKeyboard.css\";\n\nconst midiNotes = range(21, 109);\nconst toNote = (midiNote: number) => Frequency(midiNote, \"midi\").toNote();\nconst isBlackKey = (midiNote: number) => {\n  switch ((midiNote - 20) % 12) {\n    case 0:\n    case 2:\n    case 5:\n    case 7:\n    case 10:\n      return true;\n    default:\n      return false;\n  }\n};\n\nfunction TheKeyboard({ useSampler = useSamplerDI }) {\n  const sampler = useSampler();\n\n  const _pressKey = (e: any) => {\n    const target = e.target;\n    target.classList.add(\"--pressing\");\n    sampler?.triggerAttack(toNote(target.dataset.keyNum));\n  };\n\n  const _releaseKey = (e: any) => {\n    const target = e.target;\n    target.classList.remove(\"--pressing\");\n    sampler?.triggerRelease(toNote(target.dataset.keyNum));\n  };\n\n  const pressKey = (e: any) => {\n    _pressKey(e);\n    const currentTarget = e.currentTarget;\n    currentTarget.addEventListener(\"pointerover\", _pressKey);\n    currentTarget.addEventListener(\"pointerout\", _releaseKey);\n  };\n  const releaseKey = (e: any) => {\n    _releaseKey(e);\n    const currentTarget = e.currentTarget;\n    currentTarget.removeEventListener(\"pointerover\", _pressKey);\n    currentTarget.removeEventListener(\"pointerout\", _releaseKey);\n  };\n\n  return (\n    <div\n      className=\"the-keyboard\"\n      onPointerDown={pressKey}\n      onPointerUp={releaseKey}\n    >\n      {midiNotes.map((midiNote: number, i: number) => {\n        const _note = toNote(midiNote);\n        return (\n          <div className=\"the-keyboard__key-container\" key={i}>\n            <div\n              className={\n                \"the-keyboard__key\" +\n                \" \" +\n                (!isBlackKey(midiNote) ? \"--white\" : \"--black\")\n              }\n              data-key-num={midiNote}\n            >\n              <span className=\"the-keyboard__label\">\n                {/C[1-8]/.test(_note) ? _note : \"\"}\n              </span>\n            </div>\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n\nexport default TheKeyboard;\n","function BaseLink(props: { url: string; label: string }) {\n  return (\n    <a\n      className=\"base-link\"\n      href={props.url}\n      target=\"_blank\"\n      rel=\"noopener noreferrer\"\n    >\n      {props.label}\n    </a>\n  );\n}\n\nexport default BaseLink;\n","import BaseLink from \"./BaseLink\";\n\nfunction TheFooter() {\n  return (\n    <div className=\"the-footer-child el-center\">\n      <small className=\"the-footer-child__container\">\n        <BaseLink url=\"https://github.com/l1ck0h/keyboard\" label=\"GitHub\" /> /\n        &copy; 2022 l1ck0h\n      </small>\n    </div>\n  );\n}\n\nexport default TheFooter;\n","function TheLoading() {\n  return (\n    <div className=\"el-cover\">\n      <div className=\"el-cover__centered text-center\">\n        <div className=\"loading loading-lg\"></div>\n      </div>\n    </div>\n  );\n}\n\nexport default TheLoading;\n","import { useReducer } from \"react\";\nimport TheMenu from \"./components/TheMenu\";\nimport TheKeyboard from \"./components/TheKeyboard\";\nimport TheFooter from \"./components/TheFooter\";\nimport TheLoading from \"./components/TheLoading\";\nimport { useLoadingSampler } from \"./hooks\";\nimport { initialState, reducer, StoreContext } from \"./store\";\nimport \"./App.css\";\n\nfunction App() {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  useLoadingSampler(dispatch);\n  return (\n    <div className=\"App\">\n      {state.isLoaded ? (\n        <StoreContext.Provider value={{ state, dispatch }}>\n          <div className=\"el-cover\">\n            <TheMenu />\n            <div className=\"el-cover__centered app-util-margin:auto\">\n              <TheKeyboard />\n            </div>\n            <TheFooter />\n          </div>\n        </StoreContext.Provider>\n      ) : (\n        <TheLoading />\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from \"web-vitals\";\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport \"spectre.css/dist/spectre.min.css\";\nimport \"@l1ck0h/every-layout.css/every-layout.min.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}